"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[619],{619:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(413),a=n(439),i=n(791),c=n(689),s=n(87),o=n(390),u="MovieDetails_movieDetails__EqwEX",l="MovieDetails_movieDetails__part__PrRgG",p="MovieDetails_movieDetails__heading__PVSGo",v="MovieDetails_movieDetails__text__51qVI",f="MovieDetails_movieDetails__title__2ympJ",h=n(184),d=function(e){var t=e.title,n=e.overview,r=e.vote_average,a=e.genres,i=e.poster,c=a.flatMap((function(e){return e.name})).join(", ");return(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)("img",{src:i,alt:t}),(0,h.jsxs)("ul",{className:l,children:[(0,h.jsxs)("li",{children:[(0,h.jsx)("h2",{className:p,children:t}),(0,h.jsxs)("p",{className:v,children:["User score: ",r]})]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("h3",{className:f,children:"Overview"}),(0,h.jsx)("p",{className:v,children:n})]}),(0,h.jsxs)("li",{children:[(0,h.jsx)("h3",{className:f,children:"Genres"}),(0,h.jsx)("p",{className:v,children:c})]})]})]})},m=n(881),_="MovieDetails_link__wv3O1",g="MovieDetails_title__-2Xvc",w="MovieDetails_information__DWL0K",j="MovieDetails_infoDetails__-Flsk",x=function(){var e,t,n=(0,i.useState)(null),u=(0,a.Z)(n,2),l=u[0],p=u[1],v=(0,c.TH)(),f=(0,i.useRef)(null!==(e=null===(t=v.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),x=(0,c.UO)().movieId;return(0,i.useEffect)((function(){x&&o.Z.getMovieDetails(x).then((function(e){p(e)})).catch((function(e){console.log(e)}))}),[x]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Link,{to:f.current,className:_,children:"Go back"}),l&&(0,h.jsx)(d,(0,r.Z)({},l)),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:g,children:"Additional information"}),(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)(s.Link,{to:"cast",className:j,children:"Cast"}),(0,h.jsx)(s.Link,{to:"reviews",className:j,children:"Reviews"})]})]}),(0,h.jsx)(i.Suspense,{fallback:(0,h.jsx)(m.Z,{}),children:(0,h.jsx)(c.j3,{})})]})}},390:function(e,t,n){var r=n(861),a=n(757),i=n.n(a),c=n(243),s="23976029dbf9e65a92e47a5047de0abf",o="https://api.themoviedb.org/3/",u=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(o,"trending/movie/day?api_key=").concat(s)).then((function(e){return e.data.results.map((function(e){return{title:e.title,id:e.id}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(o,"search/movie?query=").concat(t,"&api_key=").concat(s)).then((function(e){return e.data.results}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(o,"movie/").concat(t,"?api_key=").concat(s)).then((function(e){return e.data})).then((function(e){var t=e.title,n=e.poster_path,r=e.vote_average,a=e.overview,i=e.genres;return{title:t,poster:n?"https://image.tmdb.org/t/p/w300".concat(n):"https://www.ormistonhospital.co.nz/wp-content/uploads/2016/05/No-Image.jpg",vote_average:r,overview:a,genres:i}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(s,"&language=en-US")).then((function(e){return e.data.cast.map((function(e){var t=e.credit_id,n=e.character,r=e.name,a=e.profile_path;return{credit_id:t,name:r,character:n,profile:a?"https://image.tmdb.org/t/p/w300".concat(a):"https://www.ormistonhospital.co.nz/wp-content/uploads/2016/05/No-Image.jpg"}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(s,"&language=en-US")).then((function(e){return e.data.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={getTrendingMovies:u,getSearchedMovie:l,getMovieDetails:p,getMovieCredits:v,getMovieReviews:f};t.Z=h},413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=619.74a039db.chunk.js.map